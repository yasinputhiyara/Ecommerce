

<%- include("../partials/header") %>

<style>
    /* Container for the main image */
.main-image-container {
    text-align: center;
    margin-bottom: 15px;
    
}

.main-image {
    width: 50%;
    max-width: 500px;
    height: 400px;
    object-fit: cover;
    border: 2px solid #ccc;
    border-radius: 10px;
}

/* Container for thumbnails */
.thumbnail-container {
    display: flex;
    justify-content: center;
    gap: 10px;
}

.thumbnail {
    cursor: pointer;
    border: 2px solid transparent;
    border-radius: 5px;
}

.thumbnail img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 5px;
}

.thumbnail:hover {
    border-color: #007bff;
}

/* Navigation Buttons */
.image-nav-buttons {
    text-align: center;
    margin-top: 10px;
}

.image-nav-buttons button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 15px;
    font-size: 18px;
    cursor: pointer;
    border-radius: 5px;
}

.image-nav-buttons button:hover {
    background-color: #0056b3;
}

</style>


<!-- ##### Breadcumb Area Start ##### -->
<div class="breadcumb_area bg-img" style="background-image: url(/user/essence/img/bg-img/breadcumb.jpg)">
    <div class="container h-100">
      <div class="row h-100 align-items-center">
        <div class="col-12">
          <div class="page-title text-center">
            <h2>dresses</h2>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- ##### Breadcumb Area End ##### -->


<section class="single_product_details_area d-flex align-items-center mt-50">

    <!-- Single Product Thumb -->
    <div class="single_product_thumb clearfix">
        <div class="main-image-container">
            <!-- Main Image -->
            <img id="mainImage" src="/product-images/<%= product.productImages[0] %>" alt="Main Product Image" class="main-image">
        </div>
    
        <div class="thumbnail-container">
            <!-- Thumbnail Images -->
            <div class="thumbnail">
                <img src="/product-images/<%= product.productImages[0] %>" alt="Thumbnail 1" onclick="updateMainImage(this)">
            </div>
            <div class="thumbnail">
                <img src="/product-images/<%= product.productImages[1] %>" alt="Thumbnail 2" onclick="updateMainImage(this)">
            </div>
            <div class="thumbnail">
                <img src="/product-images/<%= product.productImages[2] %>" alt="Thumbnail 3" onclick="updateMainImage(this)">
            </div>
        </div>
    
        <!-- Navigation Buttons -->
        <div class="image-nav-buttons">
            <button id="prevButton" onclick="changeImage(-1)">&#10094;</button>
            <button id="nextButton" onclick="changeImage(1)">&#10095;</button>
        </div>
    </div>
     

    <!-- Single Product Description -->
    <div class="single_product_desc clearfix">
        <span><%= product.brand  %></span>
        <a href="cart.html">
            <h2><%= product.productName  %></h2>
        </a>
        <p class="product-price"><span class="old-price">$<%= product.regularPrice  %></span> $<%= product.salePrice  %></p>
        <p class="product-desc"><%= product.description  %></p>

        <!-- Form -->
        <form class="cart-form clearfix" method="post">
            <!-- Select Box -->
            <div class="select-box d-flex mt-50 mb-30">
                <select name="select" id="productSize" class="mr-5">
                    <option value="value">Size: XL</option>
                    <option value="value">Size: X</option>
                    <option value="value">Size: M</option>
                    <option value="value">Size: S</option>
                </select>
                <select name="select" id="productColor">
                    <option value="value">Color: Black</option>
                    <option value="value">Color: White</option>
                    <option value="value">Color: Red</option>
                    <option value="value">Color: Purple</option>
                </select>
            </div>
            <!-- Cart & Favourite Box -->
            <div class="cart-fav-box d-flex align-items-center">
                <!-- Cart -->
                <button type="submit" name="addtocart" value="5" class="btn essence-btn">Add to cart</button>
                <!-- Favourite -->
                <div class="product-favourite ml-4">
                    <a href="#" class="favme fa fa-heart"></a>
                </div>
            </div>
        </form>
    </div>
</section>


<!-- ##### New Arrivals Area Start ##### -->
<section class="new-arrivals-area section-padding-80 clearfix">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="section-heading text-center">
            <h2>Popular Products</h2>
          </div>
        </div>
      </div>

      <div class="row">
        <!-- Single Product Card -->

        <% for(let i = 0 ; i < products.length ; i++){ %>
          <div class="col-md-4 col-sm-6 col-lg-3 mb-4">
            <div class="card product-card">
              <div class="product-img-container">
                <img src="\resized-images\<%= products[i].productImages[0] %>" class="card-img-top"
                  alt="Product Image" />
                <!-- Hover Thumb -->
                <img src="\resized-images\<%= products[i].productImages[1] %>" class="hover-img"
                  alt="Hover Image" />
              </div>
              <div class="card-body text-center">
                <span class="product-brand d-block"> <%= products[i].brand  %></span>
                <h6 class="product-title"><a href="single-product-details.html"><%= products[i].productName  %></a></h6>
                <p class="product-price">$<%= products[i].salePrice  %></p>
                <a href="#" class="btn essence-btn">Add to Cart</a>
              </div>
            </div>
          </div>
          <% } %>


        <!-- Repeat as necessary -->
      </div>
    </div>
  </section>

  <!-- ##### New Arrivals Area End ##### -->

<script>
    let currentImageIndex = 0;
const productImages = [
    "/product-images/<%= product.productImages[0] %>",
    "/product-images/<%= product.productImages[1] %>",
    "/product-images/<%= product.productImages[2] %>"
];

function updateMainImage(thumbnail) {
    const mainImage = document.getElementById("mainImage");
    mainImage.src = thumbnail.src;
}

function changeImage(direction) {
    currentImageIndex = (currentImageIndex + direction + productImages.length) % productImages.length;
    document.getElementById("mainImage").src = productImages[currentImageIndex];
}

</script>

<%- include("../partials/footer") %>